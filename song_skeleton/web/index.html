<html>
	<head>
		<title>Song visualizer</title>
		<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
	</head>
	<body>
		<h1>Song visualizer</h1>
		
		<table class="table table-bordered" id="data_table_songs" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>Id</th>
                      <th>Author</th>
                      <th>Title</th>
                      <th>Song</th>
                    </tr>
                  </thead>
                  <tbody>
                  </tbody>
         </table>
				
				
		
		  <!-- Page level plugins -->
 

  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
  
   <script type="text/javascript">
   
   function update_songs_table(){
 
 	$.getJSON( "api/songs", function( data ) {
		 var t = $('#data_table_songs').DataTable();
		 t.clear();
		  $.each( data, function( key, val ) {
			t.row.add( [
				val.id,
				val.author,
				val.title,
				val.song
			] ).draw( false );  });
	});

 }
 
 
 
  $(document).ready(function() {
		update_songs_table();
	
	} );//End document ready function
 
   </script>
	</body>
</html>